{"ast":null,"code":"/*! grapesjs-custom-code - 0.1.3 */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t() : \"function\" == typeof define && define.amd ? define([], t) : \"object\" == typeof exports ? exports[\"grapesjs-custom-code\"] = t() : e[\"grapesjs-custom-code\"] = t();\n}(window, function () {\n  return function (e) {\n    var t = {};\n    function o(n) {\n      if (t[n]) return t[n].exports;\n      var r = t[n] = {\n        i: n,\n        l: !1,\n        exports: {}\n      };\n      return e[n].call(r.exports, r, r.exports, o), r.l = !0, r.exports;\n    }\n    return o.m = e, o.c = t, o.d = function (e, t, n) {\n      o.o(e, t) || Object.defineProperty(e, t, {\n        enumerable: !0,\n        get: n\n      });\n    }, o.r = function (e) {\n      \"undefined\" != typeof Symbol && Symbol.toStringTag && Object.defineProperty(e, Symbol.toStringTag, {\n        value: \"Module\"\n      }), Object.defineProperty(e, \"__esModule\", {\n        value: !0\n      });\n    }, o.t = function (e, t) {\n      if (1 & t && (e = o(e)), 8 & t) return e;\n      if (4 & t && \"object\" == typeof e && e && e.__esModule) return e;\n      var n = Object.create(null);\n      if (o.r(n), Object.defineProperty(n, \"default\", {\n        enumerable: !0,\n        value: e\n      }), 2 & t && \"string\" != typeof e) for (var r in e) o.d(n, r, function (t) {\n        return e[t];\n      }.bind(null, r));\n      return n;\n    }, o.n = function (e) {\n      var t = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return o.d(t, \"a\", t), t;\n    }, o.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, o.p = \"\", o(o.s = 1);\n  }([function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    t.keyCustomCode = \"custom-code-plugin__code\", t.typeCustomCode = \"custom-code\", t.commandNameCustomCode = \"custom-code:open-modal\";\n  }, function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var n = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var o = arguments[t];\n          for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n        }\n        return e;\n      },\n      r = d(o(2)),\n      i = d(o(3)),\n      s = d(o(4));\n    function d(e) {\n      return e && e.__esModule ? e : {\n        default: e\n      };\n    }\n    t.default = function (e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        o = n({\n          blockLabel: \"Custom Code\",\n          blockCustomCode: {},\n          propsCustomCode: {},\n          placeholderContent: \"<span>Insert here your custom code</span>\",\n          toolbarBtnCustomCode: {},\n          placeholderScript: '<div style=\"pointer-events: none; padding: 10px;\">\\n      <svg viewBox=\"0 0 24 24\" style=\"height: 30px; vertical-align: middle;\">\\n        <path d=\"M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z\"></path>\\n        </svg>\\n      Custom code with <i>&lt;script&gt;</i> can\\'t be rendered on the canvas\\n    </div>',\n          modalTitle: \"Insert your code\",\n          codeViewOptions: {},\n          buttonLabel: \"Save\",\n          commandCustomCode: {}\n        }, t);\n      (0, r.default)(e, o), (0, i.default)(e, o), (0, s.default)(e, o);\n    };\n  }, function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var n = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var o = arguments[t];\n          for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n        }\n        return e;\n      },\n      r = o(0);\n    t.default = function (e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        o = e.DomComponents,\n        i = o.getType(\"default\"),\n        s = i.model,\n        d = t.toolbarBtnCustomCode,\n        a = void 0;\n      o.addType(\"script\", {\n        view: {\n          onRender: function () {\n            this.model.closestType(r.typeCustomCode) && (this.el.innerHTML = \"\");\n          }\n        }\n      }), o.addType(r.typeCustomCode, {\n        model: s.extend({\n          defaults: n({}, s.prototype.defaults, {\n            name: \"Custom Code\",\n            editable: !0\n          }, t.propsCustomCode),\n          init: function () {\n            this.listenTo(this, \"change:\" + r.keyCustomCode, this.onCustomCodeChange);\n            var e = this.get(r.keyCustomCode) || t.placeholderContent;\n            !this.components().length && this.components(e);\n            var o = this.get(\"toolbar\"),\n              i = \"custom-code\";\n            d && !o.filter(function (e) {\n              return e.id === i;\n            }).length && o.unshift(n({\n              id: i,\n              command: r.commandNameCustomCode,\n              label: '<svg viewBox=\"0 0 24 24\">\\n              <path d=\"M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z\"></path>\\n            </svg>'\n            }, d));\n          },\n          onCustomCodeChange: function () {\n            this.components(this.get(r.keyCustomCode));\n          }\n        }, {\n          isComponent: function () {\n            return !1;\n          }\n        }),\n        view: i.view.extend({\n          events: {\n            dblclick: \"onActive\"\n          },\n          init: function () {\n            this.listenTo(this.model.components(), \"add remove reset\", this.onComponentsChange), this.onComponentsChange();\n          },\n          onComponentsChange: function () {\n            var e = this;\n            a && clearInterval(a), a = setTimeout(function () {\n              var o = e.model,\n                n = 1;\n              (o.get(r.keyCustomCode) || \"\").indexOf(\"<script\") >= 0 && (e.el.innerHTML = t.placeholderScript, n = 0), o.set({\n                droppable: n\n              });\n            }, 0);\n          },\n          onActive: function () {\n            var e = this.model;\n            this.em.get(\"Commands\").run(r.commandNameCustomCode, {\n              target: e\n            });\n          }\n        })\n      });\n    };\n  }, function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var n = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var o = arguments[t];\n          for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n        }\n        return e;\n      },\n      r = o(0);\n    t.default = function (e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        o = e.BlockManager,\n        i = t.blockCustomCode,\n        s = t.blockLabel;\n      i && o.add(r.typeCustomCode, n({\n        label: '<svg viewBox=\"0 0 24 24\">\\n        <path d=\"M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z\"></path>\\n      </svg>\\n      <div>' + s + \"</div>\",\n        category: \"Extra\",\n        activate: !0,\n        select: !0,\n        content: {\n          type: r.typeCustomCode\n        }\n      }, i));\n    };\n  }, function (e, t, o) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var n = Object.assign || function (e) {\n        for (var t = 1; t < arguments.length; t++) {\n          var o = arguments[t];\n          for (var n in o) Object.prototype.hasOwnProperty.call(o, n) && (e[n] = o[n]);\n        }\n        return e;\n      },\n      r = o(0);\n    t.default = function (e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        o = e.Commands,\n        i = t.modalTitle,\n        s = t.codeViewOptions,\n        d = t.commandCustomCode,\n        a = function (e, t) {\n          t instanceof HTMLElement ? e.appendChild(t) : t && e.insertAdjacentHTML(\"beforeend\", t);\n        };\n      o.add(r.commandNameCustomCode, n({\n        keyCustomCode: r.keyCustomCode,\n        run: function (e, t) {\n          var o = arguments.length > 2 && void 0 !== arguments[2] ? arguments[2] : {};\n          this.editor = e, this.options = o, this.target = o.target || e.getSelected();\n          var n = this.target;\n          n && n.get(\"editable\") && this.showCustomCode(n);\n        },\n        stop: function (e) {\n          e.Modal.close();\n        },\n        showCustomCode: function (e) {\n          var t = this,\n            o = this.editor,\n            n = this.options.title || i,\n            s = this.getContent(),\n            d = e.get(r.keyCustomCode) || \"\";\n          o.Modal.open({\n            title: n,\n            content: s\n          }).getModel().once(\"change:open\", function () {\n            return o.stopCommand(t.id);\n          }), this.getCodeViewer().setContent(d);\n        },\n        getPreContent: function () {},\n        getPostContent: function () {},\n        getContent: function () {\n          var e = this.editor,\n            t = document.createElement(\"div\"),\n            o = this.getCodeViewer(),\n            n = e.getConfig(\"stylePrefix\");\n          return t.className = n + \"custom-code\", a(t, this.getPreContent()), t.appendChild(o.getElement()), a(t, this.getPostContent()), a(t, this.getContentActions()), o.refresh(), setTimeout(function () {\n            return o.focus();\n          }, 0), t;\n        },\n        getContentActions: function () {\n          var e = this,\n            o = this.editor,\n            n = document.createElement(\"button\"),\n            r = o.getConfig(\"stylePrefix\");\n          return n.innerHTML = t.buttonLabel, n.className = r + \"btn-prim \" + r + \"btn-import__custom-code\", n.onclick = function () {\n            return e.handleSave();\n          }, n;\n        },\n        handleSave: function () {\n          var e = this.editor,\n            t = this.target,\n            o = this.getCodeViewer().getContent();\n          t.set(r.keyCustomCode, o), e.Modal.close();\n        },\n        getCodeViewer: function () {\n          var e = this.editor;\n          return this.codeViewer || (this.codeViewer = e.CodeManager.createViewer(n({\n            codeName: \"htmlmixed\",\n            theme: \"hopscotch\",\n            readOnly: 0\n          }, s))), this.codeViewer;\n        }\n      }, d));\n    };\n  }]);\n});","map":{"version":3,"sources":["webpack://grapesjs-custom-code/webpack/universalModuleDefinition","webpack://grapesjs-custom-code/webpack/bootstrap","webpack://grapesjs-custom-code/src/config.js","webpack://grapesjs-custom-code/src/index.js","webpack://grapesjs-custom-code/src/components.js","webpack://grapesjs-custom-code/src/blocks.js","webpack://grapesjs-custom-code/src/commands.js"],"names":["module","define","exports","root","window","i","l","modules","__webpack_require__","Object","enumerable","value","bind","keyCustomCode","typeCustomCode","commandNameCustomCode","editor","opts","options","blockLabel","blockCustomCode","propsCustomCode","placeholderContent","toolbarBtnCustomCode","placeholderScript","modalTitle","codeViewOptions","buttonLabel","commandCustomCode","_config","dc","DomComponents","defaultType","getType","defaultModel","model","timedInterval","addType","view","onRender","this","closestType","el","innerHTML","extend","defaults","prototype","name","editable","init","listenTo","onCustomCodeChange","initialCode","get","components","length","toolbar","id","filter","tlb","unshift","command","label","isComponent","events","dblclick","onComponentsChange","clearInterval","setTimeout","_this","droppable","indexOf","set","onActive","target","em","run","bm","BlockManager","add","category","activate","select","content","type","cmd","Commands","appendToContent","HTMLElement","appendChild","insertAdjacentHTML","sender","getSelected","showCustomCode","stop","Modal","close","title","getContent","code","open","getModel","once","stopCommand","getCodeViewer","setContent","getPreContent","getPostContent","document","createElement","codeViewer","pfx","getConfig","className","getElement","getContentActions","refresh","focus","btn","onclick","_this2","handleSave","CodeManager","createViewer","codeName","theme","readOnly"],"mappings":"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","sourcesContent":["(function webpackUniversalModuleDefinition(root, factory) {\n\tif(typeof exports === 'object' && typeof module === 'object')\n\t\tmodule.exports = factory();\n\telse if(typeof define === 'function' && define.amd)\n\t\tdefine([], factory);\n\telse if(typeof exports === 'object')\n\t\texports[\"grapesjs-custom-code\"] = factory();\n\telse\n\t\troot[\"grapesjs-custom-code\"] = factory();\n})(window, function() {\nreturn "," \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = 1);\n","const keyCustomCode = 'custom-code-plugin__code';\nconst typeCustomCode = 'custom-code';\nconst commandNameCustomCode = 'custom-code:open-modal';\n\nexport {\n  keyCustomCode,\n  typeCustomCode,\n  commandNameCustomCode,\n}\n","import loadComponents from './components';\nimport loadBlocks from './blocks';\nimport loadCommands from './commands';\n\nexport default (editor, opts = {}) => {\n  const options = { ...{\n    // Label of the custom code block\n    blockLabel: 'Custom Code',\n\n    // Object to extend the default custom code block, eg. { label: 'Custom Code', category: 'Extra', ... }.\n    // Pass a falsy value to avoid adding the block\n    blockCustomCode: {},\n\n    // Object to extend the default custom code properties, eg. `{ name: 'Custom Code', droppable: false, ... }`\n    propsCustomCode: {},\n\n    // Initial content of the custom code component\n    placeholderContent: '<span>Insert here your custom code</span>',\n\n    // Object to extend the default component's toolbar button for the code, eg. `{ label: '</>', attributes: { title: 'Open custom code' } }`\n    // Pass a falsy value to avoid adding the button\n    toolbarBtnCustomCode: {},\n\n    // Content to show when the custom code contains `<script>`\n    placeholderScript: `<div style=\"pointer-events: none; padding: 10px;\">\n      <svg viewBox=\"0 0 24 24\" style=\"height: 30px; vertical-align: middle;\">\n        <path d=\"M13 14h-2v-4h2m0 8h-2v-2h2M1 21h22L12 2 1 21z\"></path>\n        </svg>\n      Custom code with <i>&lt;script&gt;</i> can't be rendered on the canvas\n    </div>`,\n\n    // Title for the custom code modal\n    modalTitle: 'Insert your code',\n\n    // Additional options for the code viewer, eg. `{ theme: 'hopscotch', readOnly: 0 }`\n    codeViewOptions: {},\n\n    // Label for the default save button\n    buttonLabel: 'Save',\n\n    // Object to extend the default custom code command.\n    // Check the source to see all available methods\n    commandCustomCode: {},\n  },  ...opts };\n\n  // Add components\n  loadComponents(editor, options);\n\n  // Add blocks\n  loadBlocks(editor, options);\n\n  // Add commands\n  loadCommands(editor, options);\n};\n","import {\n  keyCustomCode,\n  commandNameCustomCode,\n  typeCustomCode,\n} from './config';\n\nexport default (editor, opts = {}) => {\n  const dc = editor.DomComponents;\n  const defaultType = dc.getType('default');\n  const defaultModel = defaultType.model;\n  const { toolbarBtnCustomCode } = opts;\n  let timedInterval;\n\n  dc.addType('script', {\n    view: {\n      onRender() {\n        const isCC = this.model.closestType(typeCustomCode);\n        isCC && (this.el.innerHTML = '');\n      }\n    },\n  });\n\n  dc.addType(typeCustomCode, {\n\n    model: defaultModel.extend({\n      defaults: {\n        ...defaultModel.prototype.defaults,\n        name: 'Custom Code',\n        editable: true,\n        ...opts.propsCustomCode,\n      },\n\n      /**\n       * Initilize the component\n       */\n      init() {\n        this.listenTo(this, `change:${keyCustomCode}`, this.onCustomCodeChange);\n        const initialCode = this.get(keyCustomCode) || opts.placeholderContent;\n        !this.components().length && this.components(initialCode);\n        const toolbar = this.get('toolbar');\n        const id = 'custom-code';\n\n        // Add the custom code toolbar button if requested and it's not already in\n        if (toolbarBtnCustomCode && !toolbar.filter(tlb => tlb.id === id ).length) {\n          toolbar.unshift({\n            id,\n            command: commandNameCustomCode,\n            label: `<svg viewBox=\"0 0 24 24\">\n              <path d=\"M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z\"></path>\n            </svg>`,\n            ...toolbarBtnCustomCode\n          });\n        }\n      },\n\n      /**\n       * Callback to launch on keyCustomCode change\n       */\n      onCustomCodeChange() {\n        this.components(this.get(keyCustomCode));\n      },\n    }, {\n      /**\n       * The component can be used only if requested explicitly via `type` property\n       */\n      isComponent() {\n        return false;\n      }\n    }),\n\n    view: defaultType.view.extend({\n      events: {\n        dblclick: 'onActive',\n      },\n\n      init() {\n        this.listenTo(this.model.components(), 'add remove reset', this.onComponentsChange);\n        this.onComponentsChange();\n      },\n\n      /**\n       * Things to do once inner components of custom code are changed\n       */\n      onComponentsChange() {\n        timedInterval && clearInterval(timedInterval);\n        timedInterval = setTimeout(() => {\n          const { model } = this;\n          const content = model.get(keyCustomCode) || '';\n          let droppable = 1;\n\n          // Avoid rendering codes with scripts\n          if (content.indexOf('<script') >= 0) {\n            this.el.innerHTML = opts.placeholderScript;\n            droppable = 0;\n          }\n\n          model.set({ droppable });\n        }, 0);\n      },\n\n      onActive() {\n        const target = this.model;\n        this.em.get('Commands').run(commandNameCustomCode, { target });\n      },\n    })\n  });\n}\n","import {\n  typeCustomCode,\n} from './config';\n\nexport default (editor, opts = {}) => {\n  const bm = editor.BlockManager;\n  const { blockCustomCode, blockLabel } = opts;\n\n  blockCustomCode && bm.add(typeCustomCode, {\n    label: `<svg viewBox=\"0 0 24 24\">\n        <path d=\"M14.6 16.6l4.6-4.6-4.6-4.6L16 6l6 6-6 6-1.4-1.4m-5.2 0L4.8 12l4.6-4.6L8 6l-6 6 6 6 1.4-1.4z\"></path>\n      </svg>\n      <div>${blockLabel}</div>`,\n    category: 'Extra',\n    activate: true,\n    select: true,\n    content: { type: typeCustomCode },\n    ...blockCustomCode\n  });\n}\n","import {\n  commandNameCustomCode,\n  keyCustomCode,\n} from './config';\n\nexport default (editor, opts = {}) => {\n  const cmd = editor.Commands;\n  const { modalTitle, codeViewOptions, commandCustomCode } = opts;\n  const appendToContent = (target, content) => {\n    if (content instanceof HTMLElement) {\n        target.appendChild(content);\n    } else if (content) {\n        target.insertAdjacentHTML('beforeend', content);\n    }\n  }\n\n  // Add the custom code command\n  cmd.add(commandNameCustomCode, {\n    keyCustomCode,\n\n    run(editor, sender, opts = {}) {\n      this.editor = editor;\n      this.options = opts;\n      this.target = opts.target || editor.getSelected();\n      const target = this.target;\n\n      if (target && target.get('editable')) {\n        this.showCustomCode(target);\n      }\n    },\n\n    stop(editor) {\n      editor.Modal.close();\n    },\n\n    /**\n     * Method which tells how to show the custom code\n     * @param  {Component} target\n     */\n    showCustomCode(target) {\n      const { editor, options } = this;\n      const title = options.title || modalTitle;\n      const content = this.getContent();\n      const code = target.get(keyCustomCode) || '';\n      editor.Modal\n        .open({ title, content })\n        .getModel()\n        .once('change:open', () => editor.stopCommand(this.id));\n      this.getCodeViewer().setContent(code);\n    },\n\n    /**\n     * Custom pre-content. Can be a simple string or an HTMLElement\n     */\n    getPreContent() {},\n\n    /**\n     * Custom post-content. Can be a simple string or an HTMLElement\n     */\n    getPostContent() {},\n\n    /**\n     * Get all the content for the custom code\n     * @return {HTMLElement}\n     */\n    getContent() {\n      const { editor } = this;\n      const content = document.createElement('div');\n      const codeViewer = this.getCodeViewer();\n      const pfx = editor.getConfig('stylePrefix');\n      content.className = `${pfx}custom-code`;\n      appendToContent(content, this.getPreContent());\n      content.appendChild(codeViewer.getElement());\n      appendToContent(content, this.getPostContent());\n      appendToContent(content, this.getContentActions());\n      codeViewer.refresh();\n      setTimeout(()=> codeViewer.focus(), 0);\n\n      return content;\n    },\n\n    /**\n     * Get the actions content. Can be a simple string or an HTMLElement\n     * @return {HTMLElement|String}\n     */\n    getContentActions() {\n      const { editor } = this;\n      const btn = document.createElement('button');\n      const pfx = editor.getConfig('stylePrefix');\n      btn.innerHTML = opts.buttonLabel;\n      btn.className = `${pfx}btn-prim ${pfx}btn-import__custom-code`;\n      btn.onclick = () => this.handleSave();\n\n      return btn;\n    },\n\n    /**\n     * Handle the main save task\n     */\n    handleSave() {\n      const { editor, target } = this;\n      const code = this.getCodeViewer().getContent();\n      target.set(keyCustomCode, code);\n      editor.Modal.close();\n    },\n\n    /**\n     * Return the code viewer instance\n     * @return {CodeViewer}\n     */\n    getCodeViewer() {\n      const { editor } = this;\n\n      if (!this.codeViewer) {\n        this.codeViewer = editor.CodeManager.createViewer({\n          codeName: 'htmlmixed',\n          theme: 'hopscotch',\n          readOnly: 0,\n          ...codeViewOptions,\n        });\n      }\n\n      return this.codeViewer;\n    },\n\n    ...commandCustomCode,\n  });\n};\n"],"sourceRoot":""},"metadata":{},"sourceType":"script"}