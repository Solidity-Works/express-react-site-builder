{"ast":null,"code":"/*! grapesjs-plugin-filestack - 0.1.1 */\n!function (e, t) {\n  \"object\" == typeof exports && \"object\" == typeof module ? module.exports = t(require(\"grapesjs\")) : \"function\" == typeof define && define.amd ? define([\"grapesjs\"], t) : \"object\" == typeof exports ? exports[\"grapesjs-plugin-filestack\"] = t(require(\"grapesjs\")) : e[\"grapesjs-plugin-filestack\"] = t(e.grapesjs);\n}(this, function (e) {\n  return function (e) {\n    function t(r) {\n      if (n[r]) return n[r].exports;\n      var o = n[r] = {\n        i: r,\n        l: !1,\n        exports: {}\n      };\n      return e[r].call(o.exports, o, o.exports, t), o.l = !0, o.exports;\n    }\n    var n = {};\n    return t.m = e, t.c = n, t.d = function (e, n, r) {\n      t.o(e, n) || Object.defineProperty(e, n, {\n        configurable: !1,\n        enumerable: !0,\n        get: r\n      });\n    }, t.n = function (e) {\n      var n = e && e.__esModule ? function () {\n        return e.default;\n      } : function () {\n        return e;\n      };\n      return t.d(n, \"a\", n), n;\n    }, t.o = function (e, t) {\n      return Object.prototype.hasOwnProperty.call(e, t);\n    }, t.p = \"\", t(t.s = 0);\n  }([function (e, t, n) {\n    \"use strict\";\n\n    Object.defineProperty(t, \"__esModule\", {\n      value: !0\n    });\n    var r = n(1),\n      o = function (e) {\n        return e && e.__esModule ? e : {\n          default: e\n        };\n      }(r);\n    t.default = o.default.plugins.add(\"gjs-plugin-filestack\", function (e) {\n      var t = arguments.length > 1 && void 0 !== arguments[1] ? arguments[1] : {},\n        n = t,\n        r = e.getConfig(),\n        o = r.stylePrefix || \"\",\n        i = void 0,\n        s = {\n          key: \"\",\n          btnEl: \"\",\n          btnText: \"Add images\",\n          filestackOpts: {\n            accept: \"image/*\",\n            maxFiles: 10\n          },\n          onComplete: function (e, t) {}\n        };\n      for (var a in s) a in n || (n[a] = s[a]);\n      if (!filestack) throw new Error(\"Filestack instance not found\");\n      if (!n.key) throw new Error(\"Filestack's API key not found\");\n      var u = filestack.init(n.key);\n      e.on(\"run:open-assets\", function () {\n        var t = e.Modal,\n          r = t.getContentEl(),\n          s = r.querySelector(\".\" + o + \"am-file-uploader\"),\n          a = r.querySelector(\".\" + o + \"am-assets-header\"),\n          c = r.querySelector(\".\" + o + \"am-assets-cont\");\n        s && (s.style.display = \"none\"), a && (a.style.display = \"none\"), c.style.width = \"100%\", i || (i = n.btnEl, i || (i = document.createElement(\"button\"), i.className = o + \"btn-prim \" + o + \"btn-filestack\", i.innerHTML = n.btnText), i.onclick = function () {\n          u.pick(n.filestackOpts).then(function (e) {\n            var t = e.filesUploaded,\n              r = t instanceof Array ? t : [t],\n              o = l(r);\n            n.onComplete(r, o);\n          });\n        }), c.insertBefore(i, a);\n      });\n      var l = function (t) {\n        var n = t.map(function (e) {\n          return e.src = e.url, e;\n        });\n        return e.AssetManager.add(n);\n      };\n    });\n  }, function (t, n) {\n    t.exports = e;\n  }]);\n});","map":{"version":3,"names":["e","t","exports","module","require","define","amd","grapesjs","r","n","o","i","l","call","m","c","d","Object","defineProperty","configurable","enumerable","get","__esModule","default","prototype","hasOwnProperty","p","s","value","plugins","add","arguments","length","getConfig","stylePrefix","key","btnEl","btnText","filestackOpts","accept","maxFiles","onComplete","a","filestack","Error","u","init","on","Modal","getContentEl","querySelector","style","display","width","document","createElement","className","innerHTML","onclick","pick","then","filesUploaded","Array","insertBefore","map","src","url","AssetManager"],"sources":["D:/CMK/2023_5/WebsiteBuiderTask/modify/grapesJs/node_modules/grapesjs-plugin-filestack/dist/grapesjs-plugin-filestack.min.js"],"sourcesContent":["/*! grapesjs-plugin-filestack - 0.1.1 */\n!function(e,t){\"object\"==typeof exports&&\"object\"==typeof module?module.exports=t(require(\"grapesjs\")):\"function\"==typeof define&&define.amd?define([\"grapesjs\"],t):\"object\"==typeof exports?exports[\"grapesjs-plugin-filestack\"]=t(require(\"grapesjs\")):e[\"grapesjs-plugin-filestack\"]=t(e.grapesjs)}(this,function(e){return function(e){function t(r){if(n[r])return n[r].exports;var o=n[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,t),o.l=!0,o.exports}var n={};return t.m=e,t.c=n,t.d=function(e,n,r){t.o(e,n)||Object.defineProperty(e,n,{configurable:!1,enumerable:!0,get:r})},t.n=function(e){var n=e&&e.__esModule?function(){return e.default}:function(){return e};return t.d(n,\"a\",n),n},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p=\"\",t(t.s=0)}([function(e,t,n){\"use strict\";Object.defineProperty(t,\"__esModule\",{value:!0});var r=n(1),o=function(e){return e&&e.__esModule?e:{default:e}}(r);t.default=o.default.plugins.add(\"gjs-plugin-filestack\",function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t,r=e.getConfig(),o=r.stylePrefix||\"\",i=void 0,s={key:\"\",btnEl:\"\",btnText:\"Add images\",filestackOpts:{accept:\"image/*\",maxFiles:10},onComplete:function(e,t){}};for(var a in s)a in n||(n[a]=s[a]);if(!filestack)throw new Error(\"Filestack instance not found\");if(!n.key)throw new Error(\"Filestack's API key not found\");var u=filestack.init(n.key);e.on(\"run:open-assets\",function(){var t=e.Modal,r=t.getContentEl(),s=r.querySelector(\".\"+o+\"am-file-uploader\"),a=r.querySelector(\".\"+o+\"am-assets-header\"),c=r.querySelector(\".\"+o+\"am-assets-cont\");s&&(s.style.display=\"none\"),a&&(a.style.display=\"none\"),c.style.width=\"100%\",i||(i=n.btnEl,i||(i=document.createElement(\"button\"),i.className=o+\"btn-prim \"+o+\"btn-filestack\",i.innerHTML=n.btnText),i.onclick=function(){u.pick(n.filestackOpts).then(function(e){var t=e.filesUploaded,r=t instanceof Array?t:[t],o=l(r);n.onComplete(r,o)})}),c.insertBefore(i,a)});var l=function(t){var n=t.map(function(e){return e.src=e.url,e});return e.AssetManager.add(n)}})},function(t,n){t.exports=e}])});"],"mappings":"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"},"metadata":{},"sourceType":"script"}