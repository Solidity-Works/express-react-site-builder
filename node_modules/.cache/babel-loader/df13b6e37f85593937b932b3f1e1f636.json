{"ast":null,"code":"import _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  }\n}\n\n/*eslint no-magic-numbers: [\"error\", { \"ignore\": [-0.5, 0.5, 0, 1, 2] }]*/\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport VictoryPortal from \"../victory-portal/victory-portal\";\nimport Rect from \"../victory-primitives/rect\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Helpers from \"../victory-util/helpers\";\nimport LabelHelpers from \"../victory-util/label-helpers\";\nimport Style from \"../victory-util/style\";\nimport Log from \"../victory-util/log\";\nimport TextSize from \"../victory-util/textsize\";\nimport TSpan from \"../victory-primitives/tspan\";\nimport Text from \"../victory-primitives/text\";\nvar defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'SerÂ­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\nvar getPosition = function (props, dimension) {\n  if (!props.datum) {\n    return 0;\n  }\n  var scaledPoint = Helpers.scalePoint(props, props.datum);\n  return scaledPoint[dimension];\n};\nvar getFontSize = function (style) {\n  var baseSize = style && style.fontSize;\n  if (typeof baseSize === \"number\") {\n    return baseSize;\n  } else if (baseSize === undefined || baseSize === null) {\n    return defaultStyles.fontSize;\n  } else if (typeof baseSize === \"string\") {\n    var fontSize = +baseSize.replace(\"px\", \"\");\n    if (!isNaN(fontSize)) {\n      return fontSize;\n    } else {\n      Log.warn(\"fontSize should be expressed as a number of pixels\");\n      return defaultStyles.fontSize;\n    }\n  }\n  return defaultStyles.fontSize;\n};\nvar getStyles = function (style, props) {\n  var getSingleStyle = function (s) {\n    s = s ? _defaults({}, s, defaultStyles) : defaultStyles;\n    var baseStyles = Helpers.evaluateStyle(s, props);\n    return _assign({}, baseStyles, {\n      fontSize: getFontSize(baseStyles)\n    });\n  };\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return getSingleStyle(s);\n  }) : [getSingleStyle(style)];\n};\nvar getHeight = function (props, type) {\n  return Helpers.evaluateProp(props[type], props);\n};\nvar getLineHeight = function (props) {\n  var lineHeight = getHeight(props, \"lineHeight\");\n  if (Array.isArray(lineHeight)) {\n    return _isEmpty(lineHeight) ? [1] : lineHeight;\n  } else {\n    return [lineHeight];\n  }\n};\nvar getContent = function (text, props) {\n  if (text === undefined || text === null) {\n    return undefined;\n  }\n  if (Array.isArray(text)) {\n    return text.map(function (line) {\n      return Helpers.evaluateProp(line, props);\n    });\n  }\n  var child = Helpers.evaluateProp(text, props);\n  if (child === undefined || child === null) {\n    return undefined;\n  }\n  return Array.isArray(child) ? child : \"\".concat(child).split(\"\\n\");\n};\nvar getDy = function (props, lineHeight) {\n  var style = Array.isArray(props.style) ? props.style[0] : props.style;\n  lineHeight = lineHeight[0];\n  var fontSize = style.fontSize;\n  var dy = props.dy ? Helpers.evaluateProp(props.dy, props) : 0;\n  var length = props.inline ? 1 : props.text.length;\n  var capHeight = getHeight(props, \"capHeight\");\n  var verticalAnchor = style.verticalAnchor || props.verticalAnchor;\n  var anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, props) : \"middle\";\n  switch (anchor) {\n    case \"end\":\n      return dy + (capHeight / 2 + (0.5 - length) * lineHeight) * fontSize;\n    case \"middle\":\n      return dy + (capHeight / 2 + (0.5 - length / 2) * lineHeight) * fontSize;\n    default:\n      return dy + (capHeight / 2 + lineHeight / 2) * fontSize;\n  }\n};\nvar getTransform = function (props) {\n  var x = props.x,\n    y = props.y,\n    polar = props.polar,\n    style = props.style;\n  var defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n  var baseAngle = style.angle === undefined ? props.angle : style.angle;\n  var angle = baseAngle === undefined ? defaultAngle : baseAngle;\n  var transform = props.transform || style.transform;\n  var transformPart = transform && Helpers.evaluateProp(transform, props);\n  var rotatePart = angle && {\n    rotate: [angle, x, y]\n  };\n  return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n};\nvar getXCoordinate = function (calculatedProps, labelSizeWidth) {\n  var direction = calculatedProps.direction,\n    textAnchor = calculatedProps.textAnchor,\n    x = calculatedProps.x;\n  if (direction === \"rtl\") {\n    return x - labelSizeWidth;\n  }\n  switch (textAnchor) {\n    case \"start\":\n      return x;\n    case \"middle\":\n      return Math.round(x - labelSizeWidth / 2);\n    case \"end\":\n      return Math.round(x - labelSizeWidth);\n    default:\n      return x;\n  }\n};\nvar getYCoordinate = function (calculatedProps, props, textHeight) {\n  var verticalAnchor = calculatedProps.verticalAnchor,\n    y = calculatedProps.y;\n  var dy = props.dy,\n    inline = props.inline;\n  var offset = y + (dy || 0);\n  switch (verticalAnchor) {\n    case \"start\":\n      return Math.floor(offset);\n    case \"middle\":\n      return Math.floor(offset - textHeight / 2);\n    case \"end\":\n      return inline ? Math.floor(offset) : Math.ceil(offset - textHeight);\n    default:\n      return inline ? Math.floor(offset) : Math.floor(offset - textHeight / 2);\n  }\n};\nvar getBackgroundPadding = function (props) {\n  if (props.backgroundPadding && Array.isArray(props.backgroundPadding)) {\n    return props.backgroundPadding.map(function (backgroundPadding) {\n      return Helpers.getPadding({\n        backgroundPadding: backgroundPadding\n      }, \"backgroundPadding\");\n    });\n  } else {\n    return Helpers.getPadding(props, \"backgroundPadding\");\n  }\n};\nvar getBackgroundPaddingProp = function (i, backgroundPadding) {\n  if (Array.isArray(backgroundPadding)) {\n    return backgroundPadding[i] || backgroundPadding[0];\n  } else {\n    return backgroundPadding;\n  }\n};\nvar getFullBackground = function (props, calculatedProps, tspanValues) {\n  var backgroundComponent = props.backgroundComponent,\n    backgroundStyle = props.backgroundStyle,\n    inline = props.inline;\n  var dx = calculatedProps.dx,\n    backgroundPadding = calculatedProps.backgroundPadding,\n    transform = calculatedProps.transform;\n  var textSizes = tspanValues.map(function (tspan) {\n    return TextSize.approximateTextSize(tspan.text, tspan.style);\n  });\n  var height = inline ? Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.height;\n  }))) : textSizes.reduce(function (memo, size, i) {\n    return memo + size.height * tspanValues[i].lineHeight;\n  }, 0);\n  var width = inline ? textSizes.reduce(function (memo, size) {\n    return memo + size.width;\n  }, 0) + (dx || 0) : Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.width;\n  }))) + (dx || 0);\n  var xCoordinate = getXCoordinate(calculatedProps, width);\n  var yCoordinate = getYCoordinate(calculatedProps, props, height);\n  var backgroundProps = {\n    key: \"background\",\n    height: height + backgroundPadding.top + backgroundPadding.bottom,\n    style: backgroundStyle,\n    transform: transform,\n    width: width + backgroundPadding.left + backgroundPadding.right,\n    x: xCoordinate,\n    y: yCoordinate\n  };\n  return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n};\nvar getChildBackgrounds = function (props, calculatedProps, tspanValues) {\n  var backgroundStyle = props.backgroundStyle,\n    backgroundComponent = props.backgroundComponent,\n    inline = props.inline,\n    y = props.y;\n  var dy = calculatedProps.dy,\n    backgroundPadding = calculatedProps.backgroundPadding,\n    transform = calculatedProps.transform;\n  var textElements = tspanValues.map(function (current, i) {\n    var previous = tspanValues[i - 1] || tspanValues[0];\n    var labelSize = TextSize.approximateTextSize(current.text, current.style);\n    var totalLineHeight = current.fontSize * current.lineHeight;\n    var textHeight = Math.ceil(totalLineHeight);\n    var prevPaddingProp = getBackgroundPaddingProp(i - 1, backgroundPadding);\n    var childDy = i && !inline ? previous.fontSize * previous.lineHeight + prevPaddingProp.top + prevPaddingProp.bottom : dy - totalLineHeight * 0.5 - (current.fontSize - current.capHeight);\n    return {\n      textHeight: textHeight,\n      labelSize: labelSize,\n      y: y,\n      fontSize: current.fontSize,\n      dy: childDy\n    };\n  });\n  return textElements.map(function (textElement, i) {\n    var xCoordinate = getXCoordinate(calculatedProps, textElement.labelSize.width);\n    var yCoordinate = textElements.slice(0, i + 1).reduce(function (prev, curr) {\n      return prev + curr.dy;\n    }, y);\n    var padding = getBackgroundPaddingProp(i, backgroundPadding);\n    var backgroundProps = {\n      key: \"tspan-background-\".concat(i),\n      height: textElement.textHeight + padding.top + padding.bottom,\n      style: backgroundStyle[i] || backgroundStyle[0],\n      width: textElement.labelSize.width + padding.left + padding.right,\n      transform: transform,\n      x: xCoordinate,\n      y: yCoordinate\n    };\n    return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n  });\n};\nvar getBackgroundElement = function (props, calculatedProps, tspanValues) {\n  return Array.isArray(props.backgroundStyle) ? getChildBackgrounds(props, calculatedProps, tspanValues) : getFullBackground(props, calculatedProps, tspanValues);\n};\nvar calculateSpanDy = function (current, previous) {\n  return -0.5 * previous.fontSize - 0.5 * (previous.fontSize * previous.lineHeight) + previous.fontSize * previous.lineHeight + 0.5 * current.fontSize + 0.5 * current.fontSize * current.lineHeight - (current.fontSize - current.capHeight) * 0.5 + (previous.fontSize - previous.capHeight) * 0.5;\n};\nvar getTSpanDy = function (tspanValues, props, i) {\n  var inline = props.inline,\n    backgroundStyle = props.backgroundStyle;\n  var current = tspanValues[i];\n  var previous = tspanValues[i - 1] || tspanValues[0];\n  if (i && !inline) {\n    return backgroundStyle && Array.isArray(backgroundStyle) && backgroundStyle.length > 1 ? calculateSpanDy(current, previous) + current.backgroundPadding.top + previous.backgroundPadding.bottom : calculateSpanDy(current, previous);\n  } else if (inline) {\n    return i === 0 ? current.backgroundPadding.top : undefined;\n  } else {\n    return current.backgroundPadding.top;\n  }\n};\nvar evaluateProps = function (props) {\n  /* Potential evaluated props are\n    1) text\n    2) style\n    3) everything else\n  */\n  var text = getContent(props.text, props);\n  var style = getStyles(props.style, _assign({}, props, {\n    text: text\n  }));\n  var id = Helpers.evaluateProp(props.id, props);\n  return _assign({}, props, {\n    style: style,\n    text: text,\n    id: id\n  });\n};\nvar getCalculatedProps = function (props) {\n  var lineHeight = getLineHeight(props);\n  var direction = props.direction ? Helpers.evaluateProp(props.direction, props) : \"inherit\";\n  var textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, props) : \"start\";\n  var verticalAnchor = props.verticalAnchor ? Helpers.evaluateProp(props.verticalAnchor, props) : \"middle\";\n  var dx = props.dx ? Helpers.evaluateProp(props.dx, props) : 0;\n  var dy = getDy(props, lineHeight);\n  var transform = getTransform(props);\n  var x = props.x !== undefined ? props.x : getPosition(props, \"x\");\n  var y = props.y !== undefined ? props.y : getPosition(props, \"y\");\n  var backgroundPadding = getBackgroundPadding(props);\n  return {\n    lineHeight: lineHeight,\n    direction: direction,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    dx: dx,\n    dy: dy,\n    backgroundPadding: backgroundPadding,\n    transform: transform,\n    x: x,\n    y: y\n  };\n};\nvar renderLabel = function (props, calculatedProps, tspanValues) {\n  var inline = props.inline,\n    className = props.className,\n    title = props.title,\n    events = props.events,\n    direction = props.direction,\n    text = props.text;\n  var textAnchor = calculatedProps.textAnchor,\n    dx = calculatedProps.dx,\n    dy = calculatedProps.dy,\n    transform = calculatedProps.transform,\n    x = calculatedProps.x,\n    y = calculatedProps.y;\n  var textProps = _objectSpread({\n    key: \"text\"\n  }, events, {\n    direction: direction,\n    dx: dx,\n    x: x,\n    y: y + dy,\n    transform: transform,\n    className: className,\n    title: title,\n    desc: Helpers.evaluateProp(props.desc, props),\n    tabIndex: Helpers.evaluateProp(props.tabIndex, props),\n    id: props.id\n  });\n  var tspans = text.map(function (line, i) {\n    var currentStyle = tspanValues[i].style;\n    var tspanProps = {\n      key: \"\".concat(props.id, \"-key-\").concat(i),\n      x: !inline ? props.x : undefined,\n      dx: dx + tspanValues[i].backgroundPadding.left,\n      dy: getTSpanDy(tspanValues, props, i),\n      textAnchor: currentStyle.textAnchor || textAnchor,\n      style: currentStyle,\n      children: line\n    };\n    return React.cloneElement(props.tspanComponent, tspanProps);\n  });\n  return React.cloneElement(props.textComponent, textProps, tspans);\n};\nvar VictoryLabel = function (props) {\n  props = evaluateProps(props);\n  if (props.text === null || props.text === undefined) {\n    return null;\n  }\n  var calculatedProps = getCalculatedProps(props);\n  var _props = props,\n    text = _props.text,\n    style = _props.style,\n    capHeight = _props.capHeight;\n  var backgroundPadding = calculatedProps.backgroundPadding,\n    lineHeight = calculatedProps.lineHeight;\n  var tspanValues = text.map(function (line, i) {\n    var currentStyle = style[i] || style[0];\n    var capHeightPx = TextSize.convertLengthToPixels(\"\".concat(capHeight, \"em\"), currentStyle.fontSize);\n    var currentLineHeight = lineHeight[i] || lineHeight[0];\n    return {\n      style: currentStyle,\n      fontSize: currentStyle.fontSize || defaultStyles.fontSize,\n      capHeight: capHeightPx,\n      text: line,\n      lineHeight: currentLineHeight,\n      backgroundPadding: getBackgroundPaddingProp(i, backgroundPadding)\n    };\n  });\n  var label = renderLabel(props, calculatedProps, tspanValues);\n  if (props.backgroundStyle) {\n    var backgroundElement = getBackgroundElement(props, calculatedProps, tspanValues);\n    var children = [backgroundElement, label];\n    var backgroundWithLabel = React.cloneElement(props.groupComponent, {}, children);\n    return props.renderInPortal ? React.createElement(VictoryPortal, null, backgroundWithLabel) : backgroundWithLabel;\n  }\n  return props.renderInPortal ? React.createElement(VictoryPortal, null, label) : label;\n};\nVictoryLabel.displayName = \"VictoryLabel\";\nVictoryLabel.role = \"label\";\nVictoryLabel.defaultStyles = defaultStyles;\nVictoryLabel.propTypes = {\n  active: PropTypes.bool,\n  angle: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  backgroundComponent: PropTypes.element,\n  backgroundPadding: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  backgroundStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  capHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func]),\n  className: PropTypes.string,\n  data: PropTypes.array,\n  datum: PropTypes.any,\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  direction: PropTypes.oneOf([\"rtl\", \"ltr\", \"inherit\"]),\n  dx: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  dy: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  inline: PropTypes.bool,\n  labelPlacement: PropTypes.oneOf([\"parallel\", \"perpendicular\", \"vertical\"]),\n  lineHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func, PropTypes.array]),\n  origin: PropTypes.shape({\n    x: CustomPropTypes.nonNegative,\n    y: CustomPropTypes.nonNegative\n  }),\n  polar: PropTypes.bool,\n  renderInPortal: PropTypes.bool,\n  scale: PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  }),\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n  textAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\", \"inherit\"]), PropTypes.func]),\n  textComponent: PropTypes.element,\n  title: PropTypes.string,\n  transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]),\n  tspanComponent: PropTypes.element,\n  verticalAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\"]), PropTypes.func]),\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nVictoryLabel.defaultProps = {\n  backgroundComponent: React.createElement(Rect, null),\n  groupComponent: React.createElement(\"g\", null),\n  direction: \"inherit\",\n  textComponent: React.createElement(Text, null),\n  tspanComponent: React.createElement(TSpan, null),\n  capHeight: 0.71,\n  // Magic number from d3.\n  lineHeight: 1\n};\nexport default VictoryLabel;","map":{"version":3,"names":["_isEmpty","_defaults","_assign","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","arr2","React","PropTypes","VictoryPortal","Rect","CustomPropTypes","Helpers","LabelHelpers","Style","Log","TextSize","TSpan","Text","defaultStyles","fill","fontSize","fontFamily","stroke","getPosition","props","dimension","datum","scaledPoint","scalePoint","getFontSize","style","baseSize","undefined","replace","isNaN","warn","getStyles","getSingleStyle","s","baseStyles","evaluateStyle","map","getHeight","type","evaluateProp","getLineHeight","lineHeight","getContent","text","line","child","split","getDy","dy","inline","capHeight","verticalAnchor","anchor","getTransform","x","y","polar","defaultAngle","getPolarAngle","baseAngle","angle","transform","transformPart","rotatePart","rotate","toTransformString","getXCoordinate","calculatedProps","labelSizeWidth","direction","textAnchor","Math","round","getYCoordinate","textHeight","offset","floor","ceil","getBackgroundPadding","backgroundPadding","getPadding","getBackgroundPaddingProp","getFullBackground","tspanValues","backgroundComponent","backgroundStyle","dx","textSizes","tspan","approximateTextSize","height","max","apply","size","reduce","memo","width","xCoordinate","yCoordinate","backgroundProps","top","bottom","left","right","cloneElement","getChildBackgrounds","textElements","current","previous","labelSize","totalLineHeight","prevPaddingProp","childDy","textElement","slice","prev","curr","padding","getBackgroundElement","calculateSpanDy","getTSpanDy","evaluateProps","id","getCalculatedProps","renderLabel","className","title","events","textProps","desc","tabIndex","tspans","currentStyle","tspanProps","children","tspanComponent","textComponent","VictoryLabel","_props","capHeightPx","convertLengthToPixels","currentLineHeight","label","backgroundElement","backgroundWithLabel","groupComponent","renderInPortal","createElement","displayName","role","propTypes","active","bool","oneOfType","string","number","element","object","array","nonNegative","func","data","any","oneOf","index","labelPlacement","origin","shape","scale","defaultProps"],"sources":["D:/Dapp/Clients/site-builder/grapesJs/node_modules/victory-core/es/victory-label/victory-label.js"],"sourcesContent":["import _isEmpty from \"lodash/isEmpty\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\n/*eslint no-magic-numbers: [\"error\", { \"ignore\": [-0.5, 0.5, 0, 1, 2] }]*/\nimport React from \"react\";\nimport PropTypes from \"prop-types\";\nimport VictoryPortal from \"../victory-portal/victory-portal\";\nimport Rect from \"../victory-primitives/rect\";\nimport CustomPropTypes from \"../victory-util/prop-types\";\nimport Helpers from \"../victory-util/helpers\";\nimport LabelHelpers from \"../victory-util/label-helpers\";\nimport Style from \"../victory-util/style\";\nimport Log from \"../victory-util/log\";\nimport TextSize from \"../victory-util/textsize\";\nimport TSpan from \"../victory-primitives/tspan\";\nimport Text from \"../victory-primitives/text\";\nvar defaultStyles = {\n  fill: \"#252525\",\n  fontSize: 14,\n  fontFamily: \"'Gill Sans', 'Gill Sans MT', 'SerÂ­avek', 'Trebuchet MS', sans-serif\",\n  stroke: \"transparent\"\n};\n\nvar getPosition = function (props, dimension) {\n  if (!props.datum) {\n    return 0;\n  }\n\n  var scaledPoint = Helpers.scalePoint(props, props.datum);\n  return scaledPoint[dimension];\n};\n\nvar getFontSize = function (style) {\n  var baseSize = style && style.fontSize;\n\n  if (typeof baseSize === \"number\") {\n    return baseSize;\n  } else if (baseSize === undefined || baseSize === null) {\n    return defaultStyles.fontSize;\n  } else if (typeof baseSize === \"string\") {\n    var fontSize = +baseSize.replace(\"px\", \"\");\n\n    if (!isNaN(fontSize)) {\n      return fontSize;\n    } else {\n      Log.warn(\"fontSize should be expressed as a number of pixels\");\n      return defaultStyles.fontSize;\n    }\n  }\n\n  return defaultStyles.fontSize;\n};\n\nvar getStyles = function (style, props) {\n  var getSingleStyle = function (s) {\n    s = s ? _defaults({}, s, defaultStyles) : defaultStyles;\n    var baseStyles = Helpers.evaluateStyle(s, props);\n    return _assign({}, baseStyles, {\n      fontSize: getFontSize(baseStyles)\n    });\n  };\n\n  return Array.isArray(style) && !_isEmpty(style) ? style.map(function (s) {\n    return getSingleStyle(s);\n  }) : [getSingleStyle(style)];\n};\n\nvar getHeight = function (props, type) {\n  return Helpers.evaluateProp(props[type], props);\n};\n\nvar getLineHeight = function (props) {\n  var lineHeight = getHeight(props, \"lineHeight\");\n\n  if (Array.isArray(lineHeight)) {\n    return _isEmpty(lineHeight) ? [1] : lineHeight;\n  } else {\n    return [lineHeight];\n  }\n};\n\nvar getContent = function (text, props) {\n  if (text === undefined || text === null) {\n    return undefined;\n  }\n\n  if (Array.isArray(text)) {\n    return text.map(function (line) {\n      return Helpers.evaluateProp(line, props);\n    });\n  }\n\n  var child = Helpers.evaluateProp(text, props);\n\n  if (child === undefined || child === null) {\n    return undefined;\n  }\n\n  return Array.isArray(child) ? child : \"\".concat(child).split(\"\\n\");\n};\n\nvar getDy = function (props, lineHeight) {\n  var style = Array.isArray(props.style) ? props.style[0] : props.style;\n  lineHeight = lineHeight[0];\n  var fontSize = style.fontSize;\n  var dy = props.dy ? Helpers.evaluateProp(props.dy, props) : 0;\n  var length = props.inline ? 1 : props.text.length;\n  var capHeight = getHeight(props, \"capHeight\");\n  var verticalAnchor = style.verticalAnchor || props.verticalAnchor;\n  var anchor = verticalAnchor ? Helpers.evaluateProp(verticalAnchor, props) : \"middle\";\n\n  switch (anchor) {\n    case \"end\":\n      return dy + (capHeight / 2 + (0.5 - length) * lineHeight) * fontSize;\n\n    case \"middle\":\n      return dy + (capHeight / 2 + (0.5 - length / 2) * lineHeight) * fontSize;\n\n    default:\n      return dy + (capHeight / 2 + lineHeight / 2) * fontSize;\n  }\n};\n\nvar getTransform = function (props) {\n  var x = props.x,\n      y = props.y,\n      polar = props.polar,\n      style = props.style;\n  var defaultAngle = polar ? LabelHelpers.getPolarAngle(props) : 0;\n  var baseAngle = style.angle === undefined ? props.angle : style.angle;\n  var angle = baseAngle === undefined ? defaultAngle : baseAngle;\n  var transform = props.transform || style.transform;\n  var transformPart = transform && Helpers.evaluateProp(transform, props);\n  var rotatePart = angle && {\n    rotate: [angle, x, y]\n  };\n  return transformPart || angle ? Style.toTransformString(transformPart, rotatePart) : undefined;\n};\n\nvar getXCoordinate = function (calculatedProps, labelSizeWidth) {\n  var direction = calculatedProps.direction,\n      textAnchor = calculatedProps.textAnchor,\n      x = calculatedProps.x;\n\n  if (direction === \"rtl\") {\n    return x - labelSizeWidth;\n  }\n\n  switch (textAnchor) {\n    case \"start\":\n      return x;\n\n    case \"middle\":\n      return Math.round(x - labelSizeWidth / 2);\n\n    case \"end\":\n      return Math.round(x - labelSizeWidth);\n\n    default:\n      return x;\n  }\n};\n\nvar getYCoordinate = function (calculatedProps, props, textHeight) {\n  var verticalAnchor = calculatedProps.verticalAnchor,\n      y = calculatedProps.y;\n  var dy = props.dy,\n      inline = props.inline;\n  var offset = y + (dy || 0);\n\n  switch (verticalAnchor) {\n    case \"start\":\n      return Math.floor(offset);\n\n    case \"middle\":\n      return Math.floor(offset - textHeight / 2);\n\n    case \"end\":\n      return inline ? Math.floor(offset) : Math.ceil(offset - textHeight);\n\n    default:\n      return inline ? Math.floor(offset) : Math.floor(offset - textHeight / 2);\n  }\n};\n\nvar getBackgroundPadding = function (props) {\n  if (props.backgroundPadding && Array.isArray(props.backgroundPadding)) {\n    return props.backgroundPadding.map(function (backgroundPadding) {\n      return Helpers.getPadding({\n        backgroundPadding: backgroundPadding\n      }, \"backgroundPadding\");\n    });\n  } else {\n    return Helpers.getPadding(props, \"backgroundPadding\");\n  }\n};\n\nvar getBackgroundPaddingProp = function (i, backgroundPadding) {\n  if (Array.isArray(backgroundPadding)) {\n    return backgroundPadding[i] || backgroundPadding[0];\n  } else {\n    return backgroundPadding;\n  }\n};\n\nvar getFullBackground = function (props, calculatedProps, tspanValues) {\n  var backgroundComponent = props.backgroundComponent,\n      backgroundStyle = props.backgroundStyle,\n      inline = props.inline;\n  var dx = calculatedProps.dx,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      transform = calculatedProps.transform;\n  var textSizes = tspanValues.map(function (tspan) {\n    return TextSize.approximateTextSize(tspan.text, tspan.style);\n  });\n  var height = inline ? Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.height;\n  }))) : textSizes.reduce(function (memo, size, i) {\n    return memo + size.height * tspanValues[i].lineHeight;\n  }, 0);\n  var width = inline ? textSizes.reduce(function (memo, size) {\n    return memo + size.width;\n  }, 0) + (dx || 0) : Math.max.apply(Math, _toConsumableArray(textSizes.map(function (size) {\n    return size.width;\n  }))) + (dx || 0);\n  var xCoordinate = getXCoordinate(calculatedProps, width);\n  var yCoordinate = getYCoordinate(calculatedProps, props, height);\n  var backgroundProps = {\n    key: \"background\",\n    height: height + backgroundPadding.top + backgroundPadding.bottom,\n    style: backgroundStyle,\n    transform: transform,\n    width: width + backgroundPadding.left + backgroundPadding.right,\n    x: xCoordinate,\n    y: yCoordinate\n  };\n  return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n};\n\nvar getChildBackgrounds = function (props, calculatedProps, tspanValues) {\n  var backgroundStyle = props.backgroundStyle,\n      backgroundComponent = props.backgroundComponent,\n      inline = props.inline,\n      y = props.y;\n  var dy = calculatedProps.dy,\n      backgroundPadding = calculatedProps.backgroundPadding,\n      transform = calculatedProps.transform;\n  var textElements = tspanValues.map(function (current, i) {\n    var previous = tspanValues[i - 1] || tspanValues[0];\n    var labelSize = TextSize.approximateTextSize(current.text, current.style);\n    var totalLineHeight = current.fontSize * current.lineHeight;\n    var textHeight = Math.ceil(totalLineHeight);\n    var prevPaddingProp = getBackgroundPaddingProp(i - 1, backgroundPadding);\n    var childDy = i && !inline ? previous.fontSize * previous.lineHeight + prevPaddingProp.top + prevPaddingProp.bottom : dy - totalLineHeight * 0.5 - (current.fontSize - current.capHeight);\n    return {\n      textHeight: textHeight,\n      labelSize: labelSize,\n      y: y,\n      fontSize: current.fontSize,\n      dy: childDy\n    };\n  });\n  return textElements.map(function (textElement, i) {\n    var xCoordinate = getXCoordinate(calculatedProps, textElement.labelSize.width);\n    var yCoordinate = textElements.slice(0, i + 1).reduce(function (prev, curr) {\n      return prev + curr.dy;\n    }, y);\n    var padding = getBackgroundPaddingProp(i, backgroundPadding);\n    var backgroundProps = {\n      key: \"tspan-background-\".concat(i),\n      height: textElement.textHeight + padding.top + padding.bottom,\n      style: backgroundStyle[i] || backgroundStyle[0],\n      width: textElement.labelSize.width + padding.left + padding.right,\n      transform: transform,\n      x: xCoordinate,\n      y: yCoordinate\n    };\n    return React.cloneElement(backgroundComponent, _defaults({}, backgroundComponent.props, backgroundProps));\n  });\n};\n\nvar getBackgroundElement = function (props, calculatedProps, tspanValues) {\n  return Array.isArray(props.backgroundStyle) ? getChildBackgrounds(props, calculatedProps, tspanValues) : getFullBackground(props, calculatedProps, tspanValues);\n};\n\nvar calculateSpanDy = function (current, previous) {\n  return -0.5 * previous.fontSize - 0.5 * (previous.fontSize * previous.lineHeight) + previous.fontSize * previous.lineHeight + 0.5 * current.fontSize + 0.5 * current.fontSize * current.lineHeight - (current.fontSize - current.capHeight) * 0.5 + (previous.fontSize - previous.capHeight) * 0.5;\n};\n\nvar getTSpanDy = function (tspanValues, props, i) {\n  var inline = props.inline,\n      backgroundStyle = props.backgroundStyle;\n  var current = tspanValues[i];\n  var previous = tspanValues[i - 1] || tspanValues[0];\n\n  if (i && !inline) {\n    return backgroundStyle && Array.isArray(backgroundStyle) && backgroundStyle.length > 1 ? calculateSpanDy(current, previous) + current.backgroundPadding.top + previous.backgroundPadding.bottom : calculateSpanDy(current, previous);\n  } else if (inline) {\n    return i === 0 ? current.backgroundPadding.top : undefined;\n  } else {\n    return current.backgroundPadding.top;\n  }\n};\n\nvar evaluateProps = function (props) {\n  /* Potential evaluated props are\n    1) text\n    2) style\n    3) everything else\n  */\n  var text = getContent(props.text, props);\n  var style = getStyles(props.style, _assign({}, props, {\n    text: text\n  }));\n  var id = Helpers.evaluateProp(props.id, props);\n  return _assign({}, props, {\n    style: style,\n    text: text,\n    id: id\n  });\n};\n\nvar getCalculatedProps = function (props) {\n  var lineHeight = getLineHeight(props);\n  var direction = props.direction ? Helpers.evaluateProp(props.direction, props) : \"inherit\";\n  var textAnchor = props.textAnchor ? Helpers.evaluateProp(props.textAnchor, props) : \"start\";\n  var verticalAnchor = props.verticalAnchor ? Helpers.evaluateProp(props.verticalAnchor, props) : \"middle\";\n  var dx = props.dx ? Helpers.evaluateProp(props.dx, props) : 0;\n  var dy = getDy(props, lineHeight);\n  var transform = getTransform(props);\n  var x = props.x !== undefined ? props.x : getPosition(props, \"x\");\n  var y = props.y !== undefined ? props.y : getPosition(props, \"y\");\n  var backgroundPadding = getBackgroundPadding(props);\n  return {\n    lineHeight: lineHeight,\n    direction: direction,\n    textAnchor: textAnchor,\n    verticalAnchor: verticalAnchor,\n    dx: dx,\n    dy: dy,\n    backgroundPadding: backgroundPadding,\n    transform: transform,\n    x: x,\n    y: y\n  };\n};\n\nvar renderLabel = function (props, calculatedProps, tspanValues) {\n  var inline = props.inline,\n      className = props.className,\n      title = props.title,\n      events = props.events,\n      direction = props.direction,\n      text = props.text;\n  var textAnchor = calculatedProps.textAnchor,\n      dx = calculatedProps.dx,\n      dy = calculatedProps.dy,\n      transform = calculatedProps.transform,\n      x = calculatedProps.x,\n      y = calculatedProps.y;\n\n  var textProps = _objectSpread({\n    key: \"text\"\n  }, events, {\n    direction: direction,\n    dx: dx,\n    x: x,\n    y: y + dy,\n    transform: transform,\n    className: className,\n    title: title,\n    desc: Helpers.evaluateProp(props.desc, props),\n    tabIndex: Helpers.evaluateProp(props.tabIndex, props),\n    id: props.id\n  });\n\n  var tspans = text.map(function (line, i) {\n    var currentStyle = tspanValues[i].style;\n    var tspanProps = {\n      key: \"\".concat(props.id, \"-key-\").concat(i),\n      x: !inline ? props.x : undefined,\n      dx: dx + tspanValues[i].backgroundPadding.left,\n      dy: getTSpanDy(tspanValues, props, i),\n      textAnchor: currentStyle.textAnchor || textAnchor,\n      style: currentStyle,\n      children: line\n    };\n    return React.cloneElement(props.tspanComponent, tspanProps);\n  });\n  return React.cloneElement(props.textComponent, textProps, tspans);\n};\n\nvar VictoryLabel = function (props) {\n  props = evaluateProps(props);\n\n  if (props.text === null || props.text === undefined) {\n    return null;\n  }\n\n  var calculatedProps = getCalculatedProps(props);\n  var _props = props,\n      text = _props.text,\n      style = _props.style,\n      capHeight = _props.capHeight;\n  var backgroundPadding = calculatedProps.backgroundPadding,\n      lineHeight = calculatedProps.lineHeight;\n  var tspanValues = text.map(function (line, i) {\n    var currentStyle = style[i] || style[0];\n    var capHeightPx = TextSize.convertLengthToPixels(\"\".concat(capHeight, \"em\"), currentStyle.fontSize);\n    var currentLineHeight = lineHeight[i] || lineHeight[0];\n    return {\n      style: currentStyle,\n      fontSize: currentStyle.fontSize || defaultStyles.fontSize,\n      capHeight: capHeightPx,\n      text: line,\n      lineHeight: currentLineHeight,\n      backgroundPadding: getBackgroundPaddingProp(i, backgroundPadding)\n    };\n  });\n  var label = renderLabel(props, calculatedProps, tspanValues);\n\n  if (props.backgroundStyle) {\n    var backgroundElement = getBackgroundElement(props, calculatedProps, tspanValues);\n    var children = [backgroundElement, label];\n    var backgroundWithLabel = React.cloneElement(props.groupComponent, {}, children);\n    return props.renderInPortal ? React.createElement(VictoryPortal, null, backgroundWithLabel) : backgroundWithLabel;\n  }\n\n  return props.renderInPortal ? React.createElement(VictoryPortal, null, label) : label;\n};\n\nVictoryLabel.displayName = \"VictoryLabel\";\nVictoryLabel.role = \"label\";\nVictoryLabel.defaultStyles = defaultStyles;\nVictoryLabel.propTypes = {\n  active: PropTypes.bool,\n  angle: PropTypes.oneOfType([PropTypes.string, PropTypes.number]),\n  backgroundComponent: PropTypes.element,\n  backgroundPadding: PropTypes.oneOfType([PropTypes.number, PropTypes.object, PropTypes.array]),\n  backgroundStyle: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  capHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func]),\n  className: PropTypes.string,\n  data: PropTypes.array,\n  datum: PropTypes.any,\n  desc: PropTypes.oneOfType([PropTypes.string, PropTypes.func]),\n  direction: PropTypes.oneOf([\"rtl\", \"ltr\", \"inherit\"]),\n  dx: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  dy: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  events: PropTypes.object,\n  groupComponent: PropTypes.element,\n  id: PropTypes.oneOfType([PropTypes.number, PropTypes.string, PropTypes.func]),\n  index: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  inline: PropTypes.bool,\n  labelPlacement: PropTypes.oneOf([\"parallel\", \"perpendicular\", \"vertical\"]),\n  lineHeight: PropTypes.oneOfType([PropTypes.string, CustomPropTypes.nonNegative, PropTypes.func, PropTypes.array]),\n  origin: PropTypes.shape({\n    x: CustomPropTypes.nonNegative,\n    y: CustomPropTypes.nonNegative\n  }),\n  polar: PropTypes.bool,\n  renderInPortal: PropTypes.bool,\n  scale: PropTypes.shape({\n    x: CustomPropTypes.scale,\n    y: CustomPropTypes.scale\n  }),\n  style: PropTypes.oneOfType([PropTypes.object, PropTypes.array]),\n  tabIndex: PropTypes.oneOfType([PropTypes.number, PropTypes.func]),\n  text: PropTypes.oneOfType([PropTypes.string, PropTypes.number, PropTypes.func, PropTypes.array]),\n  textAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\", \"inherit\"]), PropTypes.func]),\n  textComponent: PropTypes.element,\n  title: PropTypes.string,\n  transform: PropTypes.oneOfType([PropTypes.string, PropTypes.object, PropTypes.func]),\n  tspanComponent: PropTypes.element,\n  verticalAnchor: PropTypes.oneOfType([PropTypes.oneOf([\"start\", \"middle\", \"end\"]), PropTypes.func]),\n  x: PropTypes.oneOfType([PropTypes.number, PropTypes.string]),\n  y: PropTypes.oneOfType([PropTypes.number, PropTypes.string])\n};\nVictoryLabel.defaultProps = {\n  backgroundComponent: React.createElement(Rect, null),\n  groupComponent: React.createElement(\"g\", null),\n  direction: \"inherit\",\n  textComponent: React.createElement(Text, null),\n  tspanComponent: React.createElement(TSpan, null),\n  capHeight: 0.71,\n  // Magic number from d3.\n  lineHeight: 1\n};\nexport default VictoryLabel;"],"mappings":"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"},"metadata":{},"sourceType":"module"}