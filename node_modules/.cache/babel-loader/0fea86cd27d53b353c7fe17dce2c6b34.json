{"ast":null,"code":"import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _some from \"lodash/some\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\nfunction _objectSpread(target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i] != null ? arguments[i] : {};\n    var ownKeys = Object.keys(source);\n    if (typeof Object.getOwnPropertySymbols === 'function') {\n      ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) {\n        return Object.getOwnPropertyDescriptor(source, sym).enumerable;\n      }));\n    }\n    ownKeys.forEach(function (key) {\n      _defineProperty(target, key, source[key]);\n    });\n  }\n  return target;\n}\nfunction _defineProperty(obj, key, value) {\n  if (key in obj) {\n    Object.defineProperty(obj, key, {\n      value: value,\n      enumerable: true,\n      configurable: true,\n      writable: true\n    });\n  } else {\n    obj[key] = value;\n  }\n  return obj;\n}\nfunction _toConsumableArray(arr) {\n  return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread();\n}\nfunction _nonIterableSpread() {\n  throw new TypeError(\"Invalid attempt to spread non-iterable instance\");\n}\nfunction _iterableToArray(iter) {\n  if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter);\n}\nfunction _arrayWithoutHoles(arr) {\n  if (Array.isArray(arr)) {\n    for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) {\n      arr2[i] = arr[i];\n    }\n    return arr2;\n  }\n}\nimport React from \"react\";\nimport Axis from \"./axis\";\nimport Style from \"./style\";\nimport Transitions from \"./transitions\";\nimport Data from \"./data\";\nimport Domain from \"./domain\";\nimport Events from \"./events\";\nimport Collection from \"./collection\";\nimport Helpers from \"./helpers\";\nimport Scale from \"./scale\";\nimport Log from \"./log\";\nexport default {\n  getData: function (props, childComponents) {\n    if (props.data) {\n      return Data.getData(props);\n    }\n    childComponents = childComponents || React.Children.toArray(props.children);\n    return this.getDataFromChildren(childComponents);\n  },\n  getDefaultDomainPadding: function (props, axis, childComponents) {\n    if (props.polar || axis !== \"x\") {\n      return undefined;\n    }\n    var groupComponent = childComponents.filter(function (child) {\n      return child.type && child.type.role && child.type.role === \"group\";\n    });\n    if (groupComponent.length < 1) {\n      return undefined;\n    }\n    var _groupComponent$0$pro = groupComponent[0].props,\n      offset = _groupComponent$0$pro.offset,\n      children = _groupComponent$0$pro.children;\n    return {\n      x: offset * children.length / 2\n    };\n  },\n  getDomain: function (props, axis, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var propsDomain = Domain.getDomainFromProps(props, axis);\n    var domainPadding = this.getDefaultDomainPadding(props, axis, childComponents);\n    var domain;\n    if (propsDomain) {\n      domain = propsDomain;\n    } else {\n      var minDomain = Domain.getMinFromProps(props, axis);\n      var maxDomain = Domain.getMaxFromProps(props, axis);\n      var dataset = (props.data || props.y) && Data.getData(props);\n      var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n      var childDomain = this.getDomainFromChildren(props, axis, childComponents);\n      var min = minDomain || Collection.getMinValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      var max = maxDomain || Collection.getMaxValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      domain = Domain.getDomainFromMinMax(min, max);\n    }\n    return Domain.formatDomain(domain, _assign({\n      domainPadding: domainPadding\n    }, props), axis);\n  },\n  getScale: function (props, axis, childComponents) {\n    if (props.data) {\n      return Scale.getBaseScale(props, axis);\n    }\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, {\n        horizontal: props.horizontal\n      });\n      return Scale.getScaleType(sharedProps, axis);\n    };\n    var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n    return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n  },\n  setAnimationState: function (props, nextProps) {\n    if (!props.animate) {\n      return;\n    }\n    if (props.animate.parentState) {\n      var nodesWillExit = props.animate.parentState.nodesWillExit;\n      var oldProps = nodesWillExit ? props : null;\n      this.setState(_defaults({\n        oldProps: oldProps,\n        nextProps: nextProps\n      }, props.animate.parentState));\n    } else {\n      var oldChildren = React.Children.toArray(props.children);\n      var nextChildren = React.Children.toArray(nextProps.children);\n      var isContinuous = function (child) {\n        var check = function (c) {\n          return c.type && c.type.continuous;\n        };\n        return Array.isArray(child) ? _some(child, check) : check(child);\n      };\n      var continuous = !props.polar && _some(oldChildren, function (child) {\n        return isContinuous(child) || child.props.children && isContinuous(child.props.children);\n      });\n      var _Transitions$getIniti = Transitions.getInitialTransitionState(oldChildren, nextChildren),\n        _nodesWillExit = _Transitions$getIniti.nodesWillExit,\n        nodesWillEnter = _Transitions$getIniti.nodesWillEnter,\n        childrenTransitions = _Transitions$getIniti.childrenTransitions,\n        nodesShouldEnter = _Transitions$getIniti.nodesShouldEnter;\n      this.setState({\n        nodesWillExit: _nodesWillExit,\n        nodesWillEnter: nodesWillEnter,\n        nodesShouldEnter: nodesShouldEnter,\n        childrenTransitions: Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[0] : childrenTransitions,\n        oldProps: _nodesWillExit ? props : null,\n        nextProps: nextProps,\n        continuous: continuous\n      });\n    }\n  },\n  getAllEvents: function (props) {\n    var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n    this.componentEvents = Events.getComponentEvents(props, components);\n    var events = props.events;\n    if (Array.isArray(this.componentEvents)) {\n      var _componentEvents;\n      events = Array.isArray(props.events) ? (_componentEvents = this.componentEvents).concat.apply(_componentEvents, _toConsumableArray(props.events)) : this.componentEvents;\n    }\n    return events || [];\n  },\n  getAnimationProps: function (props, child, index) {\n    var _this = this;\n    if (!props.animate) {\n      return child.props.animate;\n    }\n    var getFilteredState = function () {\n      var childrenTransitions = _this.state && _this.state.childrenTransitions;\n      childrenTransitions = Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[index] : childrenTransitions;\n      return _defaults({\n        childrenTransitions: childrenTransitions\n      }, _this.state);\n    };\n    var getTransitions = props.animate && props.animate.getTransitions;\n    var state = getFilteredState();\n    var parentState = props.animate && props.animate.parentState || state;\n    if (!getTransitions) {\n      var getTransitionProps = Transitions.getTransitionPropsFactory(props, state, function (newState) {\n        return _this.setState(newState);\n      });\n      getTransitions = function (childComponent) {\n        return getTransitionProps(childComponent, index);\n      };\n    }\n    return _defaults({\n      getTransitions: getTransitions,\n      parentState: parentState\n    }, props.animate, child.props.animate);\n  },\n  getDomainFromChildren: function (props, axis, childComponents) {\n    // eslint-disable-line max-statements, complexity, max-len\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    var parentData = props.data ? Data.getData(props, axis) : undefined;\n    var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain,\n      horizontal = props.horizontal;\n    var baseParentProps = {\n      horizontal: horizontal,\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      minDomain: minDomain,\n      maxDomain: maxDomain,\n      categories: categories\n    };\n    var parentProps = parentData ? _assign(baseParentProps, {\n      data: parentData\n    }) : baseParentProps;\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, parentProps);\n      if (!Domain.isDomainComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getDomain)) {\n        return child.props && child.type.getDomain(sharedProps, axis);\n      } else {\n        return Domain.getDomain(sharedProps, axis);\n      }\n    };\n    var childDomains = Helpers.reduceChildren(children, iteratee, props);\n    var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n    var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n    return [min, max];\n  },\n  addBinsToParentPropsIfHistogram: function (_ref) {\n    var children = _ref.children,\n      props = _ref.props,\n      childComponents = _ref.childComponents,\n      parentProps = _ref.parentProps;\n    var someChildrenAreHistograms = children.some(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n    var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n    if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n      Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n    } // if we are stacking histograms, we need to generate explicit bins\n    // or else each histogram may end up having different bins\n\n    if (!allChildrenAreHistograms) {\n      return parentProps;\n    }\n    var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n    if (!Array.isArray(childBins)) {\n      var combinedData = children.reduce(function (memo, child) {\n        var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n        return memo.concat(child.props.data.map(function (datum) {\n          return {\n            x: xAccessor(datum)\n          };\n        }));\n      }, []); // use the same function to generate bins as VictoryHistogram but with\n      // the combined data from above, then get explicit bins from that\n\n      var getFormattedHistogramData = children[0].type.getFormattedData;\n      childBins = getFormattedHistogramData({\n        data: combinedData,\n        bins: childBins\n      }).reduce(function (memo, _ref2, index) {\n        var x0 = _ref2.x0,\n          x1 = _ref2.x1;\n        return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n      }, []);\n    }\n    return _objectSpread({}, parentProps, {\n      bins: childBins\n    });\n  },\n  getDataFromChildren: function (props, childComponents) {\n    var polar = props.polar,\n      startAngle = props.startAngle,\n      endAngle = props.endAngle,\n      categories = props.categories,\n      minDomain = props.minDomain,\n      maxDomain = props.maxDomain;\n    var parentProps = {\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      categories: categories,\n      minDomain: minDomain,\n      maxDomain: maxDomain\n    };\n    var stack = 0;\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    parentProps = this.addBinsToParentPropsIfHistogram({\n      children: children,\n      props: props,\n      childComponents: childComponents,\n      parentProps: parentProps\n    });\n    var iteratee = function (child, childName, parent) {\n      var childProps = _assign({}, child.props, parentProps);\n      var childData;\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        child = parent ? React.cloneElement(child, parent.props) : child;\n        childData = child.type.getData(childProps);\n      } else {\n        childData = Data.getData(childProps);\n      }\n      stack += 1;\n      return childData.map(function (datum, index) {\n        return _assign({\n          _stack: stack,\n          _group: index\n        }, datum);\n      });\n    };\n    var stacked = children.filter(function (c) {\n      return c.type && c.type.role === \"stack\";\n    }).length;\n    var combine = function (memo, val) {\n      return memo.concat(_uniqBy(val, \"_group\"));\n    };\n    var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n    var group = stacked ? \"_group\" : \"_stack\";\n    return _values(_groupBy(datasets, group));\n  },\n  getColor: function (calculatedProps, child, index) {\n    // check for styles first\n    var style = calculatedProps.style;\n    var colorScale = calculatedProps.colorScale,\n      color = calculatedProps.color;\n    if (style && style.data && style.data.fill) {\n      return style.data.fill;\n    }\n    colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n    color = child.props && child.props.color ? child.props.color : color;\n    if (!colorScale && !color) {\n      return undefined;\n    }\n    var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n    return color || colors[index % colors.length];\n  },\n  getWidth: function (props) {\n    var datasets = props.datasets,\n      scale = props.scale,\n      horizontal = props.horizontal;\n    var range = horizontal ? scale.y.range() : scale.x.range();\n    var extent = Math.abs(range[1] - range[0]);\n    var seriesLength = Array.isArray(datasets[0]) ? datasets[0].length : 1;\n    var bars = datasets.length * seriesLength + 2;\n    var barRatio = 0.5;\n    return {\n      width: Math.round(barRatio * extent / bars)\n    };\n  },\n  getStyle: function (theme, style, role) {\n    var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n    return Helpers.getStyles(style, defaultStyle);\n  },\n  getChildStyle: function (child, index, calculatedProps) {\n    var style = calculatedProps.style,\n      role = calculatedProps.role;\n    var childStyle = child.props.style || {};\n    if (Array.isArray(childStyle)) {\n      return childStyle;\n    }\n    var childRole = child.type && child.type.role;\n    var defaultFill = childRole === \"stack\" ? undefined : this.getColor(calculatedProps, child, index);\n    var defaultColor = childRole === \"line\" ? {\n      fill: \"none\",\n      stroke: defaultFill\n    } : {\n      fill: defaultFill\n    };\n    var dataWidth = role === \"stack\" ? {} : this.getWidth(calculatedProps);\n    var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n    var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n    return {\n      parent: style.parent,\n      data: dataStyle,\n      labels: labelsStyle\n    };\n  },\n  getStringsFromCategories: function (childComponents, axis) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n      if (!Domain.isDomainComponent(child) || !childProps.categories) {\n        return null;\n      } else {\n        var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n        var categoryStrings = categories && categories.filter(function (val) {\n          return typeof val === \"string\";\n        });\n        return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n      }\n    };\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n  },\n  getStringsFromData: function (childComponents) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n      var data;\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        data = child.type.getData(childProps);\n      } else {\n        data = Data.getData(childProps);\n      }\n      return data.map(function (d) {\n        return {\n          x: d.xName,\n          y: d.yName\n        };\n      });\n    };\n    var initialMemo = {\n      x: [],\n      y: []\n    };\n    var combine = function (memo, datum) {\n      var x = Array.isArray(datum) ? datum.map(function (d) {\n        return d.x;\n      }).filter(Boolean) : datum.x;\n      var y = Array.isArray(datum) ? datum.map(function (d) {\n        return d.y;\n      }).filter(Boolean) : datum.y;\n      return {\n        x: x !== undefined ? memo.x.concat(x) : memo.x,\n        y: y !== undefined ? memo.y.concat(y) : memo.y\n      };\n    };\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n  },\n  getCategoryAndAxisStringsFromChildren: function (props, axis, childComponents) {\n    var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n    var axisComponent = Axis.getAxisComponent(childComponents, axis);\n    var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n    var categoryStrings = categories || this.getStringsFromCategories(childComponents, axis);\n    return _uniq(_flatten(_toConsumableArray(categoryStrings).concat(_toConsumableArray(axisStrings))));\n  },\n  getStringsFromChildren: function (props, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var xStrings = this.getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n    var yStrings = this.getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n    var dataStrings = this.getStringsFromData(childComponents);\n    return {\n      x: _uniq(_flatten(_toConsumableArray(xStrings).concat(_toConsumableArray(dataStrings.x)))),\n      y: _uniq(_flatten(_toConsumableArray(yStrings).concat(_toConsumableArray(dataStrings.y))))\n    };\n  },\n  getCategories: function (props, childComponents, allStrings) {\n    var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n    var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n    var fallbackRequired = !xPropCategories || !yPropCategories;\n    var fallbackProps = fallbackRequired ? allStrings || this.getStringsFromChildren(props, childComponents) : {};\n    var xCategories = xPropCategories || fallbackProps.x;\n    var yCategories = yPropCategories || fallbackProps.y;\n    return {\n      x: xCategories.length > 0 ? xCategories : undefined,\n      y: yCategories.length > 0 ? yCategories : undefined\n    };\n  }\n};","map":{"version":3,"names":["_isPlainObject","_values","_uniqBy","_groupBy","_some","_uniq","_isFunction","_flatten","_defaults","_assign","_objectSpread","target","i","arguments","length","source","ownKeys","Object","keys","getOwnPropertySymbols","concat","filter","sym","getOwnPropertyDescriptor","enumerable","forEach","key","_defineProperty","obj","value","defineProperty","configurable","writable","_toConsumableArray","arr","_arrayWithoutHoles","_iterableToArray","_nonIterableSpread","TypeError","iter","Symbol","iterator","prototype","toString","call","Array","from","isArray","arr2","React","Axis","Style","Transitions","Data","Domain","Events","Collection","Helpers","Scale","Log","getData","props","childComponents","data","Children","toArray","children","getDataFromChildren","getDefaultDomainPadding","axis","polar","undefined","groupComponent","child","type","role","_groupComponent$0$pro","offset","x","getDomain","propsDomain","getDomainFromProps","domainPadding","domain","minDomain","getMinFromProps","maxDomain","getMaxFromProps","dataset","y","dataDomain","getDomainFromData","childDomain","getDomainFromChildren","min","getMinValue","max","getMaxValue","getDomainFromMinMax","formatDomain","getScale","getBaseScale","slice","iteratee","sharedProps","horizontal","getScaleType","childScale","reduceChildren","getScaleFromName","setAnimationState","nextProps","animate","parentState","nodesWillExit","oldProps","setState","oldChildren","nextChildren","isContinuous","check","c","continuous","_Transitions$getIniti","getInitialTransitionState","_nodesWillExit","nodesWillEnter","childrenTransitions","nodesShouldEnter","isArrayOfArrays","getAllEvents","components","componentEvents","getComponentEvents","events","_componentEvents","apply","getAnimationProps","index","_this","getFilteredState","state","getTransitions","getTransitionProps","getTransitionPropsFactory","newState","childComponent","parentData","startAngle","endAngle","categories","baseParentProps","parentProps","isDomainComponent","childDomains","addBinsToParentPropsIfHistogram","_ref","someChildrenAreHistograms","some","allChildrenAreHistograms","every","warn","childBins","bins","combinedData","reduce","memo","xAccessor","createAccessor","map","datum","getFormattedHistogramData","getFormattedData","_ref2","x0","x1","stack","childName","parent","childProps","childData","isDataComponent","cloneElement","_stack","_group","stacked","combine","val","datasets","group","getColor","calculatedProps","style","colorScale","color","fill","colors","getColorScale","getWidth","scale","range","extent","Math","abs","seriesLength","bars","barRatio","width","round","getStyle","theme","defaultStyle","getStyles","getChildStyle","childStyle","childRole","defaultFill","defaultColor","stroke","dataWidth","dataStyle","labelsStyle","labels","getStringsFromCategories","categoryStrings","removeUndefined","getStringsFromData","d","xName","yName","initialMemo","Boolean","getCategoryAndAxisStringsFromChildren","axisComponent","getAxisComponent","axisStrings","getStringsFromAxes","getStringsFromChildren","xStrings","yStrings","dataStrings","getCategories","allStrings","xPropCategories","yPropCategories","fallbackRequired","fallbackProps","xCategories","yCategories"],"sources":["D:/Dapp/Clients/site-builder/grapesJs/node_modules/victory-core/es/victory-util/wrapper.js"],"sourcesContent":["import _isPlainObject from \"lodash/isPlainObject\";\nimport _values from \"lodash/values\";\nimport _uniqBy from \"lodash/uniqBy\";\nimport _groupBy from \"lodash/groupBy\";\nimport _some from \"lodash/some\";\nimport _uniq from \"lodash/uniq\";\nimport _isFunction from \"lodash/isFunction\";\nimport _flatten from \"lodash/flatten\";\nimport _defaults from \"lodash/defaults\";\nimport _assign from \"lodash/assign\";\n\nfunction _objectSpread(target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i] != null ? arguments[i] : {}; var ownKeys = Object.keys(source); if (typeof Object.getOwnPropertySymbols === 'function') { ownKeys = ownKeys.concat(Object.getOwnPropertySymbols(source).filter(function (sym) { return Object.getOwnPropertyDescriptor(source, sym).enumerable; })); } ownKeys.forEach(function (key) { _defineProperty(target, key, source[key]); }); } return target; }\n\nfunction _defineProperty(obj, key, value) { if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance\"); }\n\nfunction _iterableToArray(iter) { if (Symbol.iterator in Object(iter) || Object.prototype.toString.call(iter) === \"[object Arguments]\") return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) { for (var i = 0, arr2 = new Array(arr.length); i < arr.length; i++) { arr2[i] = arr[i]; } return arr2; } }\n\nimport React from \"react\";\nimport Axis from \"./axis\";\nimport Style from \"./style\";\nimport Transitions from \"./transitions\";\nimport Data from \"./data\";\nimport Domain from \"./domain\";\nimport Events from \"./events\";\nimport Collection from \"./collection\";\nimport Helpers from \"./helpers\";\nimport Scale from \"./scale\";\nimport Log from \"./log\";\nexport default {\n  getData: function (props, childComponents) {\n    if (props.data) {\n      return Data.getData(props);\n    }\n\n    childComponents = childComponents || React.Children.toArray(props.children);\n    return this.getDataFromChildren(childComponents);\n  },\n  getDefaultDomainPadding: function (props, axis, childComponents) {\n    if (props.polar || axis !== \"x\") {\n      return undefined;\n    }\n\n    var groupComponent = childComponents.filter(function (child) {\n      return child.type && child.type.role && child.type.role === \"group\";\n    });\n\n    if (groupComponent.length < 1) {\n      return undefined;\n    }\n\n    var _groupComponent$0$pro = groupComponent[0].props,\n        offset = _groupComponent$0$pro.offset,\n        children = _groupComponent$0$pro.children;\n    return {\n      x: offset * children.length / 2\n    };\n  },\n  getDomain: function (props, axis, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var propsDomain = Domain.getDomainFromProps(props, axis);\n    var domainPadding = this.getDefaultDomainPadding(props, axis, childComponents);\n    var domain;\n\n    if (propsDomain) {\n      domain = propsDomain;\n    } else {\n      var minDomain = Domain.getMinFromProps(props, axis);\n      var maxDomain = Domain.getMaxFromProps(props, axis);\n      var dataset = (props.data || props.y) && Data.getData(props);\n      var dataDomain = dataset ? Domain.getDomainFromData(props, axis, dataset) : [];\n      var childDomain = this.getDomainFromChildren(props, axis, childComponents);\n      var min = minDomain || Collection.getMinValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      var max = maxDomain || Collection.getMaxValue(_toConsumableArray(dataDomain).concat(_toConsumableArray(childDomain)));\n      domain = Domain.getDomainFromMinMax(min, max);\n    }\n\n    return Domain.formatDomain(domain, _assign({\n      domainPadding: domainPadding\n    }, props), axis);\n  },\n  getScale: function (props, axis, childComponents) {\n    if (props.data) {\n      return Scale.getBaseScale(props, axis);\n    }\n\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, {\n        horizontal: props.horizontal\n      });\n\n      return Scale.getScaleType(sharedProps, axis);\n    };\n\n    var childScale = _uniq(Helpers.reduceChildren(children, iteratee, props)); // default to linear scale if more than one uniq scale type is given by children\n\n\n    return childScale.length > 1 ? Scale.getScaleFromName(\"linear\") : Scale.getScaleFromName(childScale[0]);\n  },\n  setAnimationState: function (props, nextProps) {\n    if (!props.animate) {\n      return;\n    }\n\n    if (props.animate.parentState) {\n      var nodesWillExit = props.animate.parentState.nodesWillExit;\n      var oldProps = nodesWillExit ? props : null;\n      this.setState(_defaults({\n        oldProps: oldProps,\n        nextProps: nextProps\n      }, props.animate.parentState));\n    } else {\n      var oldChildren = React.Children.toArray(props.children);\n      var nextChildren = React.Children.toArray(nextProps.children);\n\n      var isContinuous = function (child) {\n        var check = function (c) {\n          return c.type && c.type.continuous;\n        };\n\n        return Array.isArray(child) ? _some(child, check) : check(child);\n      };\n\n      var continuous = !props.polar && _some(oldChildren, function (child) {\n        return isContinuous(child) || child.props.children && isContinuous(child.props.children);\n      });\n\n      var _Transitions$getIniti = Transitions.getInitialTransitionState(oldChildren, nextChildren),\n          _nodesWillExit = _Transitions$getIniti.nodesWillExit,\n          nodesWillEnter = _Transitions$getIniti.nodesWillEnter,\n          childrenTransitions = _Transitions$getIniti.childrenTransitions,\n          nodesShouldEnter = _Transitions$getIniti.nodesShouldEnter;\n\n      this.setState({\n        nodesWillExit: _nodesWillExit,\n        nodesWillEnter: nodesWillEnter,\n        nodesShouldEnter: nodesShouldEnter,\n        childrenTransitions: Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[0] : childrenTransitions,\n        oldProps: _nodesWillExit ? props : null,\n        nextProps: nextProps,\n        continuous: continuous\n      });\n    }\n  },\n  getAllEvents: function (props) {\n    var components = [\"groupComponent\", \"containerComponent\", \"labelComponent\"];\n    this.componentEvents = Events.getComponentEvents(props, components);\n    var events = props.events;\n\n    if (Array.isArray(this.componentEvents)) {\n      var _componentEvents;\n\n      events = Array.isArray(props.events) ? (_componentEvents = this.componentEvents).concat.apply(_componentEvents, _toConsumableArray(props.events)) : this.componentEvents;\n    }\n\n    return events || [];\n  },\n  getAnimationProps: function (props, child, index) {\n    var _this = this;\n\n    if (!props.animate) {\n      return child.props.animate;\n    }\n\n    var getFilteredState = function () {\n      var childrenTransitions = _this.state && _this.state.childrenTransitions;\n      childrenTransitions = Collection.isArrayOfArrays(childrenTransitions) ? childrenTransitions[index] : childrenTransitions;\n      return _defaults({\n        childrenTransitions: childrenTransitions\n      }, _this.state);\n    };\n\n    var getTransitions = props.animate && props.animate.getTransitions;\n    var state = getFilteredState();\n    var parentState = props.animate && props.animate.parentState || state;\n\n    if (!getTransitions) {\n      var getTransitionProps = Transitions.getTransitionPropsFactory(props, state, function (newState) {\n        return _this.setState(newState);\n      });\n\n      getTransitions = function (childComponent) {\n        return getTransitionProps(childComponent, index);\n      };\n    }\n\n    return _defaults({\n      getTransitions: getTransitions,\n      parentState: parentState\n    }, props.animate, child.props.animate);\n  },\n  getDomainFromChildren: function (props, axis, childComponents) {\n    // eslint-disable-line max-statements, complexity, max-len\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    var parentData = props.data ? Data.getData(props, axis) : undefined;\n    var polar = props.polar,\n        startAngle = props.startAngle,\n        endAngle = props.endAngle,\n        categories = props.categories,\n        minDomain = props.minDomain,\n        maxDomain = props.maxDomain,\n        horizontal = props.horizontal;\n    var baseParentProps = {\n      horizontal: horizontal,\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      minDomain: minDomain,\n      maxDomain: maxDomain,\n      categories: categories\n    };\n    var parentProps = parentData ? _assign(baseParentProps, {\n      data: parentData\n    }) : baseParentProps;\n\n    var iteratee = function (child) {\n      var sharedProps = _assign({}, child.props, parentProps);\n\n      if (!Domain.isDomainComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getDomain)) {\n        return child.props && child.type.getDomain(sharedProps, axis);\n      } else {\n        return Domain.getDomain(sharedProps, axis);\n      }\n    };\n\n    var childDomains = Helpers.reduceChildren(children, iteratee, props);\n    var min = childDomains.length === 0 ? 0 : Collection.getMinValue(childDomains);\n    var max = childDomains.length === 0 ? 1 : Collection.getMaxValue(childDomains);\n    return [min, max];\n  },\n  addBinsToParentPropsIfHistogram: function (_ref) {\n    var children = _ref.children,\n        props = _ref.props,\n        childComponents = _ref.childComponents,\n        parentProps = _ref.parentProps;\n    var someChildrenAreHistograms = children.some(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n    var allChildrenAreHistograms = someChildrenAreHistograms && children.length && children.every(function (child) {\n      return child.type && child.type.role === \"histogram\";\n    });\n\n    if (someChildrenAreHistograms && !allChildrenAreHistograms) {\n      Log.warn(\"VictoryHistogram only supports being stacked with other VictoryHistogram components. Check to make sure that you are only passing VictoryHistogram components to VictoryStack\");\n    } // if we are stacking histograms, we need to generate explicit bins\n    // or else each histogram may end up having different bins\n\n\n    if (!allChildrenAreHistograms) {\n      return parentProps;\n    }\n\n    var childBins = props.bins || childComponents[0].props.bins; // if we have explicit bins then we don't need to calculate them\n\n    if (!Array.isArray(childBins)) {\n      var combinedData = children.reduce(function (memo, child) {\n        var xAccessor = Helpers.createAccessor(child.props.x || \"x\");\n        return memo.concat(child.props.data.map(function (datum) {\n          return {\n            x: xAccessor(datum)\n          };\n        }));\n      }, []); // use the same function to generate bins as VictoryHistogram but with\n      // the combined data from above, then get explicit bins from that\n\n      var getFormattedHistogramData = children[0].type.getFormattedData;\n      childBins = getFormattedHistogramData({\n        data: combinedData,\n        bins: childBins\n      }).reduce(function (memo, _ref2, index) {\n        var x0 = _ref2.x0,\n            x1 = _ref2.x1;\n        return index === 0 ? memo.concat([x0, x1]) : memo.concat(x1);\n      }, []);\n    }\n\n    return _objectSpread({}, parentProps, {\n      bins: childBins\n    });\n  },\n  getDataFromChildren: function (props, childComponents) {\n    var polar = props.polar,\n        startAngle = props.startAngle,\n        endAngle = props.endAngle,\n        categories = props.categories,\n        minDomain = props.minDomain,\n        maxDomain = props.maxDomain;\n    var parentProps = {\n      polar: polar,\n      startAngle: startAngle,\n      endAngle: endAngle,\n      categories: categories,\n      minDomain: minDomain,\n      maxDomain: maxDomain\n    };\n    var stack = 0;\n    var children = childComponents ? childComponents.slice(0) : React.Children.toArray(props.children);\n    parentProps = this.addBinsToParentPropsIfHistogram({\n      children: children,\n      props: props,\n      childComponents: childComponents,\n      parentProps: parentProps\n    });\n\n    var iteratee = function (child, childName, parent) {\n      var childProps = _assign({}, child.props, parentProps);\n\n      var childData;\n\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        child = parent ? React.cloneElement(child, parent.props) : child;\n        childData = child.type.getData(childProps);\n      } else {\n        childData = Data.getData(childProps);\n      }\n\n      stack += 1;\n      return childData.map(function (datum, index) {\n        return _assign({\n          _stack: stack,\n          _group: index\n        }, datum);\n      });\n    };\n\n    var stacked = children.filter(function (c) {\n      return c.type && c.type.role === \"stack\";\n    }).length;\n\n    var combine = function (memo, val) {\n      return memo.concat(_uniqBy(val, \"_group\"));\n    };\n\n    var datasets = Helpers.reduceChildren(children, iteratee, props, [], combine);\n    var group = stacked ? \"_group\" : \"_stack\";\n    return _values(_groupBy(datasets, group));\n  },\n  getColor: function (calculatedProps, child, index) {\n    // check for styles first\n    var style = calculatedProps.style;\n    var colorScale = calculatedProps.colorScale,\n        color = calculatedProps.color;\n\n    if (style && style.data && style.data.fill) {\n      return style.data.fill;\n    }\n\n    colorScale = child.props && child.props.colorScale ? child.props.colorScale : colorScale;\n    color = child.props && child.props.color ? child.props.color : color;\n\n    if (!colorScale && !color) {\n      return undefined;\n    }\n\n    var colors = Array.isArray(colorScale) ? colorScale : Style.getColorScale(colorScale);\n    return color || colors[index % colors.length];\n  },\n  getWidth: function (props) {\n    var datasets = props.datasets,\n        scale = props.scale,\n        horizontal = props.horizontal;\n    var range = horizontal ? scale.y.range() : scale.x.range();\n    var extent = Math.abs(range[1] - range[0]);\n    var seriesLength = Array.isArray(datasets[0]) ? datasets[0].length : 1;\n    var bars = datasets.length * seriesLength + 2;\n    var barRatio = 0.5;\n    return {\n      width: Math.round(barRatio * extent / bars)\n    };\n  },\n  getStyle: function (theme, style, role) {\n    var defaultStyle = theme && theme[role] && theme[role].style ? theme[role].style : {};\n    return Helpers.getStyles(style, defaultStyle);\n  },\n  getChildStyle: function (child, index, calculatedProps) {\n    var style = calculatedProps.style,\n        role = calculatedProps.role;\n    var childStyle = child.props.style || {};\n\n    if (Array.isArray(childStyle)) {\n      return childStyle;\n    }\n\n    var childRole = child.type && child.type.role;\n    var defaultFill = childRole === \"stack\" ? undefined : this.getColor(calculatedProps, child, index);\n    var defaultColor = childRole === \"line\" ? {\n      fill: \"none\",\n      stroke: defaultFill\n    } : {\n      fill: defaultFill\n    };\n    var dataWidth = role === \"stack\" ? {} : this.getWidth(calculatedProps);\n\n    var dataStyle = _defaults({}, childStyle.data, _assign({}, dataWidth, style.data, defaultColor));\n\n    var labelsStyle = _defaults({}, childStyle.labels, style.labels);\n\n    return {\n      parent: style.parent,\n      data: dataStyle,\n      labels: labelsStyle\n    };\n  },\n  getStringsFromCategories: function (childComponents, axis) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n\n      if (!Domain.isDomainComponent(child) || !childProps.categories) {\n        return null;\n      } else {\n        var categories = childProps.categories && !Array.isArray(childProps.categories) ? childProps.categories[axis] : childProps.props.categories;\n        var categoryStrings = categories && categories.filter(function (val) {\n          return typeof val === \"string\";\n        });\n        return categoryStrings ? Collection.removeUndefined(categoryStrings) : [];\n      }\n    };\n\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee);\n  },\n  getStringsFromData: function (childComponents) {\n    var iteratee = function (child) {\n      var childProps = child.props || {};\n      var data;\n\n      if (!Data.isDataComponent(child)) {\n        return null;\n      } else if (child.type && _isFunction(child.type.getData)) {\n        data = child.type.getData(childProps);\n      } else {\n        data = Data.getData(childProps);\n      }\n\n      return data.map(function (d) {\n        return {\n          x: d.xName,\n          y: d.yName\n        };\n      });\n    };\n\n    var initialMemo = {\n      x: [],\n      y: []\n    };\n\n    var combine = function (memo, datum) {\n      var x = Array.isArray(datum) ? datum.map(function (d) {\n        return d.x;\n      }).filter(Boolean) : datum.x;\n      var y = Array.isArray(datum) ? datum.map(function (d) {\n        return d.y;\n      }).filter(Boolean) : datum.y;\n      return {\n        x: x !== undefined ? memo.x.concat(x) : memo.x,\n        y: y !== undefined ? memo.y.concat(y) : memo.y\n      };\n    };\n\n    return Helpers.reduceChildren(childComponents.slice(0), iteratee, {}, initialMemo, combine);\n  },\n  getCategoryAndAxisStringsFromChildren: function (props, axis, childComponents) {\n    var categories = _isPlainObject(props.categories) ? props.categories[axis] : props.categories;\n    var axisComponent = Axis.getAxisComponent(childComponents, axis);\n    var axisStrings = axisComponent ? Data.getStringsFromAxes(axisComponent.props, axis) : [];\n    var categoryStrings = categories || this.getStringsFromCategories(childComponents, axis);\n    return _uniq(_flatten(_toConsumableArray(categoryStrings).concat(_toConsumableArray(axisStrings))));\n  },\n  getStringsFromChildren: function (props, childComponents) {\n    childComponents = childComponents || React.Children.toArray(props.children);\n    var xStrings = this.getCategoryAndAxisStringsFromChildren(props, \"x\", childComponents);\n    var yStrings = this.getCategoryAndAxisStringsFromChildren(props, \"y\", childComponents);\n    var dataStrings = this.getStringsFromData(childComponents);\n    return {\n      x: _uniq(_flatten(_toConsumableArray(xStrings).concat(_toConsumableArray(dataStrings.x)))),\n      y: _uniq(_flatten(_toConsumableArray(yStrings).concat(_toConsumableArray(dataStrings.y))))\n    };\n  },\n  getCategories: function (props, childComponents, allStrings) {\n    var xPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.x : props.categories;\n    var yPropCategories = props.categories && !Array.isArray(props.categories) ? props.categories.y : props.categories;\n    var fallbackRequired = !xPropCategories || !yPropCategories;\n    var fallbackProps = fallbackRequired ? allStrings || this.getStringsFromChildren(props, childComponents) : {};\n    var xCategories = xPropCategories || fallbackProps.x;\n    var yCategories = yPropCategories || fallbackProps.y;\n    return {\n      x: xCategories.length > 0 ? xCategories : undefined,\n      y: yCategories.length > 0 ? yCategories : undefined\n    };\n  }\n};"],"mappings":"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"},"metadata":{},"sourceType":"module"}